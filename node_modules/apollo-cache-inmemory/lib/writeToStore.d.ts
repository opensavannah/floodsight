import { SelectionSetNode, FieldNode, DocumentNode } from 'graphql';
import { FragmentMatcher } from './readFromStore';
import { FragmentMap } from 'apollo-utilities';
import { IdGetter, NormalizedCache } from './types';
export declare class WriteError extends Error {
    type: string;
}
export declare function enhanceErrorWithDocument(error: Error, document: DocumentNode): WriteError;
export declare type WriteContext = {
    readonly store: NormalizedCache;
    readonly processedData?: {
        [x: string]: FieldNode[];
    };
    readonly variables?: any;
    readonly dataIdFromObject?: IdGetter;
    readonly fragmentMap?: FragmentMap;
    readonly fragmentMatcherFunction?: FragmentMatcher;
};
declare type StoreWriterOptions = {
    addTypename?: boolean;
};
export declare class StoreWriter {
    private addTypename;
    constructor({ addTypename, }?: StoreWriterOptions);
    writeQueryToStore({ query, result, store, variables, dataIdFromObject, fragmentMatcherFunction, }: {
        query: DocumentNode;
        result: Object;
        store?: NormalizedCache;
        variables?: Object;
        dataIdFromObject?: IdGetter;
        fragmentMatcherFunction?: FragmentMatcher;
    }): NormalizedCache;
    writeResultToStore({ dataId, result, document, store, variables, dataIdFromObject, fragmentMatcherFunction, }: {
        dataId: string;
        result: any;
        document: DocumentNode;
        store?: NormalizedCache;
        variables?: Object;
        dataIdFromObject?: IdGetter;
        fragmentMatcherFunction?: FragmentMatcher;
    }): NormalizedCache;
    writeSelectionSetToStore({ result, dataId, selectionSet, context, parentKind, }: {
        dataId: string;
        result: any;
        selectionSet: SelectionSetNode;
        context: WriteContext;
        parentKind: string;
    }): NormalizedCache;
    private writeFieldToStore;
    private processArrayValue;
}
export {};
//# sourceMappingURL=writeToStore.d.ts.map