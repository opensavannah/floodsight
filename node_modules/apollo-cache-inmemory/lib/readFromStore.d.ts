import { IdValue } from 'apollo-utilities';
import { Cache } from 'apollo-cache';
import { ReadStoreContext, DiffQueryAgainstStoreOptions, ReadQueryOptions } from './types';
import { CacheKeyNode } from './optimism';
export { OptimisticWrapperFunction } from './optimism';
export declare type VariableMap = {
    [name: string]: any;
};
export declare type FragmentMatcher = (rootValue: any, typeCondition: string, context: ReadStoreContext) => boolean | 'heuristic';
export declare type ExecResultMissingField = {
    objectId: string;
    fieldName: string;
    tolerable: boolean;
};
export declare type ExecResult<R = any> = {
    result: R;
    missing?: ExecResultMissingField[];
};
declare type StoreReaderOptions = {
    addTypename?: boolean;
    cacheKeyRoot?: CacheKeyNode;
};
export declare class StoreReader {
    private addTypename;
    private cacheKeyRoot;
    private keyMaker;
    constructor({ addTypename, cacheKeyRoot, }?: StoreReaderOptions);
    readQueryFromStore<QueryType>(options: ReadQueryOptions): QueryType;
    diffQueryAgainstStore<T>({ store, query, variables, previousResult, returnPartialData, rootId, fragmentMatcherFunction, config, }: DiffQueryAgainstStoreOptions): Cache.DiffResult<T>;
    private executeStoreQuery;
    private executeSelectionSet;
    private executeField;
    private executeSubSelectedArray;
}
export declare function assertIdValue(idValue: IdValue): void;
//# sourceMappingURL=readFromStore.d.ts.map