{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/carlvlewis/floodsight/src/components/Dashboard/ManageUsersPage/ArchiveUserModal.js\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation($userId: Int!) {\\n    reactivateUser(input: { userId: $userId }) {\\n      user {\\n        ...userActive\\n      }\\n    }\\n  }\\n  \", \"\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation($userId: Int!) {\\n    deactivateUser(input: { userId: $userId }) {\\n      user {\\n        ...userActive\\n      }\\n    }\\n  }\\n  \", \"\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { graphql, compose } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { logError } from 'services/logger';\nimport Modal from 'components/Shared/Modal';\nimport ActivateUserModal from 'components/Dashboard/ManageUsersPage/ActivateUserModal';\nimport ModalErrorMessage from 'components/Shared/Modal/ModalErrorMessage';\nimport ButtonPrimary from 'components/Shared/Button/ButtonPrimary';\nimport ButtonSecondary from 'components/Shared/Button/ButtonSecondary';\nimport userActiveFragment from 'components/Dashboard/ManageUsersPage/queries/userActiveFragment';\n\nvar ArchiveUserModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ArchiveUserModal, _Component);\n\n  function ArchiveUserModal() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ArchiveUserModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ArchiveUserModal)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.reactivateUser = function () {\n      _this.setState({\n        reactivating: true,\n        userReactivated: false,\n        reactivateEmailSent: false,\n        errorMessage: null\n      });\n\n      _this.props.reactivateUserMutation({\n        variables: {\n          userId: Number(_this.props.user.id)\n        },\n        update: function update(store, _ref) {\n          var reactivateUser = _ref.data.reactivateUser;\n          var reactivatedUser = reactivateUser.user;\n          store.writeFragment({\n            id: 'User:' + reactivatedUser.id,\n            fragment: userActiveFragment,\n            data: reactivatedUser\n          });\n        }\n      }).then(function (_ref2) {\n        var data = _ref2.data;\n\n        _this.setState({\n          userReactivated: true\n        });\n\n        _this.sendEmail(_this.props.user);\n      }).catch(function (err) {\n        logError(err);\n\n        _this.setState({\n          errorMessage: err.message\n        });\n      });\n    };\n\n    _this.sendEmail = function (user) {\n      fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL, \"/email/reset\"), {\n        method: 'POST',\n        body: JSON.stringify({\n          email: user.emailAddress,\n          newUser: true\n        }),\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      }).then(function (res) {\n        if (res.status === 204) {\n          _this.setState({\n            reactivateEmailSent: true\n          });\n        } else if (res.status === 400) {\n          _this.setState({\n            reactivateEmailSent: false,\n            errorMessage: 'Email failed to send'\n          });\n        }\n      }).catch(function (err) {\n        logError(err);\n\n        _this.setState({\n          reactivateEmailSent: false,\n          errorMessage: err.message\n        });\n      });\n    };\n\n    _this.deactivateUser = function () {\n      _this.props.deactivateUserMutation({\n        variables: {\n          userId: Number(_this.props.user.id)\n        },\n        update: function update(store, _ref3) {\n          var deactivateUser = _ref3.data.deactivateUser;\n          var deactivatedUser = deactivateUser.user;\n          store.writeFragment({\n            id: 'User:' + deactivatedUser.id,\n            fragment: userActiveFragment,\n            data: deactivatedUser\n          });\n        }\n      }).then(function (_ref4) {\n        var data = _ref4.data;\n\n        _this.props.onClose();\n      }).catch(function (err) {\n        logError(err);\n\n        _this.setState({\n          errorMessage: err.message\n        });\n      });\n    };\n\n    _this.state = {\n      errorMessage: null,\n      reactivating: false,\n      userReactivated: false,\n      reactivateEmailSent: false\n    };\n    return _this;\n  }\n\n  _createClass(ArchiveUserModal, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(err) {\n      logError(err);\n      this.setState({\n        errorMessage: err.message\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var user = this.props.user;\n\n      if (this.state.reactivating) {\n        return React.createElement(ActivateUserModal, {\n          onClose: this.props.onClose,\n          userActivated: this.state.userReactivated,\n          emailSent: this.state.reactivateEmailSent,\n          errorMessage: this.state.errorMessage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Modal, {\n        title: user.active ? 'Deactivate User' : 'Reactivate User',\n        isOpen: true,\n        onClose: this.props.onClose,\n        footer: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(ButtonPrimary, {\n          className: \"ArchiveUserModal__primary-button\",\n          onClick: user.active ? this.deactivateUser : this.reactivateUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, user.active ? 'Deactivate' : 'Reactivate'), React.createElement(ButtonSecondary, {\n          onClick: this.props.onClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, \"Cancel\")),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"This will \", user.active ? 'deactivate' : 'reactivate', \" \", user.firstName, ' ', user.lastName, \".\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Do you want to continue?\"), this.state.errorMessage && React.createElement(ModalErrorMessage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, this.state.errorMessage));\n    }\n  }]);\n\n  return ArchiveUserModal;\n}(Component);\n\nArchiveUserModal.propTypes = {\n  user: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired\n};\nvar deactivateUserMutation = gql(_templateObject(), userActiveFragment);\nvar reactivateUserMutation = gql(_templateObject2(), userActiveFragment);\nexport default compose(graphql(deactivateUserMutation, {\n  name: 'deactivateUserMutation'\n}), graphql(reactivateUserMutation, {\n  name: 'reactivateUserMutation'\n}))(ArchiveUserModal);","map":{"version":3,"sources":["/Users/carlvlewis/floodsight/src/components/Dashboard/ManageUsersPage/ArchiveUserModal.js"],"names":["graphql","compose","gql","React","Component","PropTypes","logError","Modal","ActivateUserModal","ModalErrorMessage","ButtonPrimary","ButtonSecondary","userActiveFragment","ArchiveUserModal","args","reactivateUser","setState","reactivating","userReactivated","reactivateEmailSent","errorMessage","props","reactivateUserMutation","variables","userId","Number","user","id","update","store","data","reactivatedUser","writeFragment","fragment","then","sendEmail","catch","err","message","fetch","process","env","REACT_APP_BACKEND_URL","method","body","JSON","stringify","email","emailAddress","newUser","headers","Headers","res","status","deactivateUser","deactivateUserMutation","deactivatedUser","onClose","state","active","firstName","lastName","propTypes","object","isRequired","func","name"],"mappings":"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","sourcesContent":["import { graphql, compose } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { logError } from 'services/logger';\nimport Modal from 'components/Shared/Modal';\nimport ActivateUserModal from 'components/Dashboard/ManageUsersPage/ActivateUserModal';\nimport ModalErrorMessage from 'components/Shared/Modal/ModalErrorMessage';\nimport ButtonPrimary from 'components/Shared/Button/ButtonPrimary';\nimport ButtonSecondary from 'components/Shared/Button/ButtonSecondary';\nimport userActiveFragment from 'components/Dashboard/ManageUsersPage/queries/userActiveFragment';\n\nclass ArchiveUserModal extends Component {\n  static propTypes = {\n    user: PropTypes.object.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  constructor(...args) {\n    super(...args);\n\n    this.state = {\n      errorMessage: null,\n      reactivating: false,\n      userReactivated: false,\n      reactivateEmailSent: false,\n    };\n  }\n\n  componentDidCatch(err) {\n    logError(err);\n    this.setState({ errorMessage: err.message });\n  }\n\n  reactivateUser = () => {\n    this.setState({\n      reactivating: true,\n      userReactivated: false,\n      reactivateEmailSent: false,\n      errorMessage: null,\n    });\n\n    this.props\n      .reactivateUserMutation({\n        variables: {\n          userId: Number(this.props.user.id),\n        },\n        update: (store, { data: { reactivateUser } }) => {\n          const reactivatedUser = reactivateUser.user;\n          store.writeFragment({\n            id: 'User:' + reactivatedUser.id,\n            fragment: userActiveFragment,\n            data: reactivatedUser,\n          });\n        },\n      })\n      .then(({ data }) => {\n        this.setState({ userReactivated: true });\n        this.sendEmail(this.props.user);\n      })\n      .catch(err => {\n        logError(err);\n        this.setState({ errorMessage: err.message });\n      });\n  };\n\n  sendEmail = user => {\n    fetch(`${process.env.REACT_APP_BACKEND_URL}/email/reset`, {\n      method: 'POST',\n      body: JSON.stringify({ email: user.emailAddress, newUser: true }),\n      headers: new Headers({\n        'Content-Type': 'application/json',\n      }),\n    })\n      .then(res => {\n        if (res.status === 204) {\n          this.setState({\n            reactivateEmailSent: true,\n          });\n        } else if (res.status === 400) {\n          this.setState({\n            reactivateEmailSent: false,\n            errorMessage: 'Email failed to send',\n          });\n        }\n      })\n      .catch(err => {\n        logError(err);\n        this.setState({\n          reactivateEmailSent: false,\n          errorMessage: err.message,\n        });\n      });\n  };\n\n  deactivateUser = () => {\n    this.props\n      .deactivateUserMutation({\n        variables: {\n          userId: Number(this.props.user.id),\n        },\n        update: (store, { data: { deactivateUser } }) => {\n          const deactivatedUser = deactivateUser.user;\n          store.writeFragment({\n            id: 'User:' + deactivatedUser.id,\n            fragment: userActiveFragment,\n            data: deactivatedUser,\n          });\n        },\n      })\n      .then(({ data }) => {\n        this.props.onClose();\n      })\n      .catch(err => {\n        logError(err);\n        this.setState({ errorMessage: err.message });\n      });\n  };\n\n  render() {\n    const { user } = this.props;\n\n    if (this.state.reactivating) {\n      return (\n        <ActivateUserModal\n          onClose={this.props.onClose}\n          userActivated={this.state.userReactivated}\n          emailSent={this.state.reactivateEmailSent}\n          errorMessage={this.state.errorMessage}\n        />\n      );\n    }\n\n    return (\n      <Modal\n        title={user.active ? 'Deactivate User' : 'Reactivate User'}\n        isOpen\n        onClose={this.props.onClose}\n        footer={\n          <div>\n            <ButtonPrimary\n              className=\"ArchiveUserModal__primary-button\"\n              onClick={user.active ? this.deactivateUser : this.reactivateUser}\n            >\n              {user.active ? 'Deactivate' : 'Reactivate'}\n            </ButtonPrimary>\n            <ButtonSecondary onClick={this.props.onClose}>\n              Cancel\n            </ButtonSecondary>\n          </div>\n        }\n      >\n        <p>\n          This will {user.active ? 'deactivate' : 'reactivate'} {user.firstName}{' '}\n          {user.lastName}.\n        </p>\n        <p>Do you want to continue?</p>\n        {this.state.errorMessage && (\n          <ModalErrorMessage>{this.state.errorMessage}</ModalErrorMessage>\n        )}\n      </Modal>\n    );\n  }\n}\n\nconst deactivateUserMutation = gql`\n  mutation($userId: Int!) {\n    deactivateUser(input: { userId: $userId }) {\n      user {\n        ...userActive\n      }\n    }\n  }\n  ${userActiveFragment}\n`;\n\nconst reactivateUserMutation = gql`\n  mutation($userId: Int!) {\n    reactivateUser(input: { userId: $userId }) {\n      user {\n        ...userActive\n      }\n    }\n  }\n  ${userActiveFragment}\n`;\n\nexport default compose(\n  graphql(deactivateUserMutation, {\n    name: 'deactivateUserMutation',\n  }),\n  graphql(reactivateUserMutation, {\n    name: 'reactivateUserMutation',\n  }),\n)(ArchiveUserModal);\n"]},"metadata":{},"sourceType":"module"}