{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _classCallCheck from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/carlvlewis/floodsight/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/carlvlewis/floodsight/src/components/Shared/CommunityListDropdown/index.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  query allCommunities {\\n    allCommunities(orderBy: NAME_ASC) {\\n      nodes {\\n        id\\n        name\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport gql from 'graphql-tag';\nimport { graphql } from 'react-apollo';\nimport { Link } from 'react-router-dom';\nimport onClickOutside from 'react-onclickoutside';\nimport Media from 'react-media';\nimport Modal from 'components/Shared/Modal';\nimport ButtonSecondary from 'components/Shared/Button/ButtonSecondary';\nimport './CommunityListDropdown.css';\n\nvar CommunityListDropdown =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CommunityListDropdown, _Component);\n\n  function CommunityListDropdown() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CommunityListDropdown);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CommunityListDropdown)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleClickOutside = function () {\n      _this.props.closeDropdown();\n    };\n\n    return _this;\n  }\n\n  _createClass(CommunityListDropdown, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.data.loading) {\n        return null;\n      }\n\n      if (this.props.data.error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, this.props.data.error);\n      }\n\n      var items = React.createElement(\"div\", {\n        className: \"CommunityListDropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, this.props.data.allCommunities.nodes.map(function (community) {\n        return React.createElement(Link, {\n          to: \"\".concat(_this2.props.onDash ? '/dashboard' : '', \"/map/community/\").concat(community.id),\n          className: \"CommunityListDropdown__item\",\n          onClick: _this2.props.closeDropdown,\n          key: community.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, community.name);\n      }));\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Media, {\n        query: \"(min-width: 600px)\",\n        render: function render() {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, items);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Media, {\n        query: \"(max-width: 600px)\",\n        render: function render() {\n          return React.createElement(Modal, {\n            isOpen: true,\n            title: \"All Communities\",\n            onClose: _this2.props.closeDropdown,\n            footer: React.createElement(ButtonSecondary, {\n              onClick: _this2.props.closeDropdown,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61\n              },\n              __self: this\n            }, \"Cancel\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }, items);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CommunityListDropdown;\n}(Component);\n\nCommunityListDropdown.propTypes = {\n  data: PropTypes.object.isRequired,\n  closeDropdown: PropTypes.func.isRequired,\n  onDash: PropTypes.bool.isRequired\n};\nexport default graphql(gql(_templateObject()))(onClickOutside(CommunityListDropdown));","map":{"version":3,"sources":["/Users/carlvlewis/floodsight/src/components/Shared/CommunityListDropdown/index.js"],"names":["React","Component","PropTypes","gql","graphql","Link","onClickOutside","Media","Modal","ButtonSecondary","CommunityListDropdown","handleClickOutside","props","closeDropdown","data","loading","error","items","allCommunities","nodes","map","community","onDash","id","name","propTypes","object","isRequired","func","bool"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,SAASC,OAAT,QAAwB,cAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,eAAP,MAA4B,0CAA5B;AAEA,OAAO,6BAAP;;IAEMC,qB;;;;;;;;;;;;;;;;;;UAOJC,kB,GAAqB,YAAM;AACzB,YAAKC,KAAL,CAAWC,aAAX;AACD,K;;;;;;;6BAEQ;AAAA;;AACP,UAAI,KAAKD,KAAL,CAAWE,IAAX,CAAgBC,OAApB,EAA6B;AAC3B,eAAO,IAAP;AACD;;AACD,UAAI,KAAKH,KAAL,CAAWE,IAAX,CAAgBE,KAApB,EAA2B;AACzB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAM,KAAKJ,KAAL,CAAWE,IAAX,CAAgBE,KAAtB,CAAP;AACD;;AAED,UAAMC,KAAK,GACT;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKL,KAAL,CAAWE,IAAX,CAAgBI,cAAhB,CAA+BC,KAA/B,CAAqCC,GAArC,CAAyC,UAAAC,SAAS;AAAA,eACjD,oBAAC,IAAD;AACE,UAAA,EAAE,YAAK,MAAI,CAACT,KAAL,CAAWU,MAAX,GAAoB,YAApB,GAAmC,EAAxC,4BACAD,SAAS,CAACE,EADV,CADJ;AAIE,UAAA,SAAS,EAAC,6BAJZ;AAKE,UAAA,OAAO,EAAE,MAAI,CAACX,KAAL,CAAWC,aALtB;AAME,UAAA,GAAG,EAAEQ,SAAS,CAACE,EANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQGF,SAAS,CAACG,IARb,CADiD;AAAA,OAAlD,CADH,CADF;AAiBA,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAC,oBAAb;AAAkC,QAAA,MAAM,EAAE;AAAA,iBAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAMP,KAAN,CAAN;AAAA,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,KAAD;AACE,QAAA,KAAK,EAAC,oBADR;AAEE,QAAA,MAAM,EAAE;AAAA,iBACN,oBAAC,KAAD;AACE,YAAA,MAAM,MADR;AAEE,YAAA,KAAK,EAAC,iBAFR;AAGE,YAAA,OAAO,EAAE,MAAI,CAACL,KAAL,CAAWC,aAHtB;AAIE,YAAA,MAAM,EACJ,oBAAC,eAAD;AAAiB,cAAA,OAAO,EAAE,MAAI,CAACD,KAAL,CAAWC,aAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAUGI,KAVH,CADM;AAAA,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAsBD;;;;EA1DiChB,S;;AAA9BS,qB,CACGe,S,GAAY;AACjBX,EAAAA,IAAI,EAAEZ,SAAS,CAACwB,MAAV,CAAiBC,UADN;AAEjBd,EAAAA,aAAa,EAAEX,SAAS,CAAC0B,IAAV,CAAeD,UAFb;AAGjBL,EAAAA,MAAM,EAAEpB,SAAS,CAAC2B,IAAV,CAAeF;AAHN,C;AA4DrB,eAAevB,OAAO,CAACD,GAAD,oBAAP,CASZG,cAAc,CAACI,qBAAD,CATF,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport gql from 'graphql-tag';\nimport { graphql } from 'react-apollo';\nimport { Link } from 'react-router-dom';\nimport onClickOutside from 'react-onclickoutside';\nimport Media from 'react-media';\n\nimport Modal from 'components/Shared/Modal';\nimport ButtonSecondary from 'components/Shared/Button/ButtonSecondary';\n\nimport './CommunityListDropdown.css';\n\nclass CommunityListDropdown extends Component {\n  static propTypes = {\n    data: PropTypes.object.isRequired,\n    closeDropdown: PropTypes.func.isRequired,\n    onDash: PropTypes.bool.isRequired,\n  };\n\n  handleClickOutside = () => {\n    this.props.closeDropdown();\n  };\n\n  render() {\n    if (this.props.data.loading) {\n      return null;\n    }\n    if (this.props.data.error) {\n      return <div>{this.props.data.error}</div>;\n    }\n\n    const items = (\n      <div className=\"CommunityListDropdown\">\n        {this.props.data.allCommunities.nodes.map(community => (\n          <Link\n            to={`${this.props.onDash ? '/dashboard' : ''}/map/community/${\n              community.id\n            }`}\n            className=\"CommunityListDropdown__item\"\n            onClick={this.props.closeDropdown}\n            key={community.id}\n          >\n            {community.name}\n          </Link>\n        ))}\n      </div>\n    );\n\n    return (\n      <React.Fragment>\n        <Media query=\"(min-width: 600px)\" render={() => <div>{items}</div>} />\n        <Media\n          query=\"(max-width: 600px)\"\n          render={() => (\n            <Modal\n              isOpen\n              title=\"All Communities\"\n              onClose={this.props.closeDropdown}\n              footer={\n                <ButtonSecondary onClick={this.props.closeDropdown}>\n                  Cancel\n                </ButtonSecondary>\n              }\n            >\n              {items}\n            </Modal>\n          )}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default graphql(gql`\n  query allCommunities {\n    allCommunities(orderBy: NAME_ASC) {\n      nodes {\n        id\n        name\n      }\n    }\n  }\n`)(onClickOutside(CommunityListDropdown));\n"]},"metadata":{},"sourceType":"module"}